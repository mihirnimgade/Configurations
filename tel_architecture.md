
# Telemetry board architecture

```
                              Telemetry Board Firmware Architecture (Firmware-v3)
+---------------------------------------------------------------------------------------------------------------+
|                                                                                                               |
|     +----------+       +------------+                            +----------------+                           |
|     | > GPS    |       | > IMU      |                            | > Cellular     |                           |
|     |          |       |            |                            |                |                           |
|     |          |       |            |               +------------+ DOUT           |                           |
|     +--+-----^-+       +--+-------^-+               |            |                |                           |
|        |     |            |       |                 | +----------+ DIN            |                           |
|   UART |     |            |       | I2C             | |          |                |                           |
|        |     |            |       |                 | | +--------> !RESET         |                           |
|     +--v-----+------------v-------+------------+    | | |        |                |                           |
|     | > STM32                                  |    | | | +------+ RSSI PWM       |                           |
|     |                                          <----+ | | |      |                |                           |
|     |                                          |      | | | +----> DI8            |                           |
|     |                                          <------+ | | |    |                |                           |
|     |                                          |        | | | +--> DIO6           |                           |
|     |                                          +--------+ | | |  |                |                           |
|     |                                          |          | | |  +----------------+                           |
|     |                                          <----------+ | |                                               |
|     |                                          |            | |                                               |
|     |                                          +------------+ |  +----------------+     +---------------+     |
|     |                                          |              |  | > Radio 1      | ~~~ | > Radio 2     |     |
|     |                                          +--------------+  |                | ~~~ |               |     |
|     |                                          |                 | DOUT           |     +-------+-------+     |
|     |                                          |                 |                |             |             |
|     |                                          |                 | DIN            |             | UART        |
|     |                                          |                 |                |             |             |
|     |                                          |                 | !RTS           |      +------v------+      |
|     |                                          |                 |                |      | > Host PC   |      |
|     +--------^---+-----------------------------+                 | RST            |      |             |      |
|              |   |                                               |                |      |             |      |
|       CAN Rx |   | CAN Tx                                        | PWM            |      +-------------+      |
|              |   |                                               +----------------+                           |
|              |   |                                                                                            |
|   -----------+---+-----------------------------------------------------------------------------------------   |
|   ~~~~~~~~~~~~~~~|~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   |
|   ---------------v-----------------------------------------------------------------------------------------   |
|                                           Central CAN bus                                                     |
+---------------------------------------------------------------------------------------------------------------+
```

```
                              Telemetry Board Firmware Architecture (Firmware-v3)
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                               │
│     ┌──────────┐       ┌────────────┐                            ┌────────────────┐                           │
│     │ > GPS    │       │ > IMU      │                            │ > Cellular     │                           │
│     │          │       │            │                            │                │                           │
│     │          │       │            │               ┌────────────┤ DOUT           │                           │
│     └──┬─────▲─┘       └──┬───────▲─┘               │            │                │                           │
│        │     │            │       │                 │ ┌──────────┤ DIN            │                           │
│   UART │     │            │       │ I2C             │ │          │                │                           │
│        │     │            │       │                 │ │ ┌────────► !RESET         │                           │
│     ┌──▼─────┴────────────▼───────┴────────────┐    │ │ │        │                │                           │
│     │ > STM32                                  │    │ │ │ ┌──────┤ RSSI PWM       │                           │
│     │                                          ◄────┘ │ │ │      │                │                           │
│     │                                          │      │ │ │ ┌────► DI8            │                           │
│     │                                          ◄──────┘ │ │ │    │                │                           │
│     │                                          │        │ │ │ ┌──► DIO6           │                           │
│     │                                          ├────────┘ │ │ │  │                │                           │
│     │                                          │          │ │ │  └────────────────┘                           │
│     │                                          ◄──────────┘ │ │                                               │
│     │                                          │            │ │                                               │
│     │                                          ├────────────┘ │  ┌────────────────┐     ┌───────────────┐     │
│     │                                          │              │  │ > Radio 1      │ ~~~ │ > Radio 2     │     │
│     │                                          ├──────────────┘  │                │ ~~~ │               │     │
│     │                                          │                 │ DOUT           │     └───────┬───────┘     │
│     │                                          │                 │                │             │             │
│     │                                          │                 │ DIN            │             │ UART        │
│     │                                          │                 │                │             │             │
│     │                                          │                 │ !RTS           │      ┌──────▼──────┐      │
│     │                                          │                 │                │      │ > Host PC   │      │
│     └────────▲───┬─────────────────────────────┘                 │ RST            │      │             │      │
│              │   │                                               │                │      │             │      │
│       CAN Rx │   │ CAN Tx                                        │ PWM            │      └─────────────┘      │
│              │   │                                               └────────────────┘                           │
│              │   │                                                                                            │
│   ───────────┴───┼─────────────────────────────────────────────────────────────────────────────────────────   │
│   ~~~~~~~~~~~~~~~│~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   │
│   ───────────────▼─────────────────────────────────────────────────────────────────────────────────────────   │
│                                           Central CAN bus                                                     │
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```